!function(n){var e={};function t(o){if(e[o])return e[o].exports;var u=e[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,t),u.l=!0,u.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var u in n)t.d(o,u,function(e){return n[e]}.bind(null,u));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";t.r(e);const o={a:["a"],oa:["oa","a"],ac:["ac"],oac:["oac","ac"],ach:["ach"],oach:["ach","oach"],ai:["ai"],oai:["oai","ai"],am:["am"],oam:["oam","am"],an:["an"],oan:["oan","an","on"],ang:["ang","an"],oang:["oang","an"],anh:["anh"],oanh:["oanh","anh"],ao:["ao"],oao:["oao","ao"],ap:["ap"],oap:["oap","ap"],at:["at","ac"],oat:["oat","ac"],au:["au","ao"],ay:["ay"],oay:["oay","ay"],"ăc":["ăc"],"oăc":["oăc","ăc"],"ăm":["ăm"],"oăm":["oăm","ăm"],"ăn":["ăn"],"oăn":["oăn","ăn"],"ăng":["ăng","ăn"],"oăng":["oăng","ăn"],"ăp":["ăp"],"ăt":["ăt","ăc"],"oăt":["oăt","ăc"],"âc":["âc","ăc"],"âm":["âm","ăm"],"ân":["ân"],"uân":["uân","ân"],"âng":["âng","ân"],"uâng":["uâng","ân"],"âp":["âp","ăp"],"ât":["ât","ăc"],"uât":["uât","ăc"],"âu":["âu"],"ây":["ây","ay"],"uây":["uây","ay"],e:["e"],oe:["oe","e"],ec:["ec"],em:["em"],en:["en"],oen:["oen","en"],eng:["eng","en"],eo:["eo"],oeo:["oeo","eo"],ep:["ep"],et:["et"],oet:["oet","et"],"ê":["ê"],"uê":["uê","ê"],"êch":["êch"],"uêch":["uêch","êch"],"êm":["êm"],"ên":["ên"],"ênh":["ênh","ên"],"uênh":["uênh","ên"],"êp":["êp"],"êt":["êt"],"êu":["êu"],ill:["iu"],i:["i"],uy:["uy","i"],y:["y","i"],ia:["ia"],uya:["uya","ia"],ich:["ich"],uych:["uych","it"],ych:["ych","it"],"iêc":["iêc","iêt"],"êc":["êc","ec"],"iêm":["iêm","im"],"yêm":["yêm","im"],"iên":["iên"],"uyên":["uyên","iên"],"yên":["yên","iên"],"iêng":["iêng","iên"],"êng":["êng","iên"],"yêng":["yêng","iên"],"iêp":["iêp"],"iêt":["iêt"],"uyêt":["uyêt","iêt"],"yêt":["yêt","iêt"],"iêu":["iêu","iu"],"yêu":["yêu","iu"],im:["im"],in:["in"],uyn:["uyn","iên"],inh:["inh","in"],uynh:["uynh","iên","in"],ynh:["ynh","in"],ip:["ip","iêp"],uyp:["uyp","iêp"],it:["it","iêp"],uyt:["uyt","iêp"],yt:["yt","iêp"],iu:["iu"],uyu:["uyu","u"],yu:["yu","u"],o:["o"],oc:["oc"],oi:["oi"],om:["om"],on:["on"],ong:["ong"],ooc:["ooc","oc"],oong:["oong","ong"],op:["op"],ot:["ot"],"ô":["ô"],"ôc":["ôc","oc"],"ôi":["ôi","oi"],"ôm":["ôm","om"],"ôn":["ôn"],"ông":["ông","ong"],"ôp":["ôp","op"],"ôt":["ôt"],"ơ":["ơ"],"uơ":["uơ"],"ơi":["ơi"],"ơm":["ơm","om"],"ơn":["ơn"],"ơp":["ơp"],"ơt":["ơt"],u:["u"],ua:["ua"],uc:["uc"],ui:["ui"],um:["um"],un:["un"],ung:["ung","un"],"uôc":["uôc"],"uôi":["uôi","ui"],"uôm":["uôm","ôm"],"uôn":["uôn"],"uông":["uông","uôn"],"uôt":["uôt","uôc"],up:["up"],ut:["ut"],"ư":["ư"],"ưa":["ưa"],"ưc":["ưc"],"ưi":["ưi"],"ưm":["ưm","um"],"ưn":["ưn"],"ưng":["ưng","ưn"],"ươc":["ươc"],"ươi":["ươi","ưi"],"ươm":["ươm","om"],"ươn":["ươn"],"ương":["ương","ươn"],"ươp":["ươp"],"ươt":["ươt","ươc"],"ươu":["ươu","u"],"ưt":["ưt","ưc"],"ưu":["ưu","u"]},u=new RegExp("^("+["ngh","qu","th","tr","nh","ng","ph","kh","gh","gi","ch","b","c","d","đ","g","h","k","l","m","n","q","r","s","t","v","x"].join("|")+")");function i(n){return n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/à|á|ạ|ả|ã/g,"a")).replace(/ầ|ấ|ậ|ẩ|ẫ/g,"â")).replace(/ằ|ắ|ặ|ẳ|ẵ/g,"ă")).replace(/è|é|ẹ|ẻ|ẽ/g,"e")).replace(/ề|ế|ệ|ể|ễ/g,"ê")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ/g,"o")).replace(/ồ|ố|ộ|ổ|ỗ/g,"ô")).replace(/ờ|ớ|ợ|ở|ỡ/g,"ơ")).replace(/ù|ú|ụ|ủ|ũ/g,"u")).replace(/ừ|ứ|ự|ử|ữ/g,"ư")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g,"")).trim()}function a(n){return["gi"].indexOf(n)>-1?"i":n.replace(u,"")}function c(n){return n.trim().split("\n").map(n=>n.trim().split(" "))}function l(n,e){return function(n,e){return(n=a(i(n.toLocaleLowerCase())))===(e=a(i(e.toLocaleLowerCase())))||!(!o[n]||!o[e])&&o[n].some(n=>o[e].includes(n))}(n,e)}document.getElementById("btn-lyric").addEventListener("click",(function(n){let e=function(n){let e=c(n),t=[],o={};for(let n=0;n<e.length-1;n++){let u=e[n].length<=e[n+1].length?e[n].length:e[n+1].length,i={locations:[],partten:[]},a={locations:[],partten:[]};for(let t=0;t<e[n].length-3;t++)for(let o=t+2;o<e[n].length-1;o++)[e[n][t],e[n][t+1]].join(" ").toLocaleLowerCase()!==[e[n][o],e[n][o+1]].join(" ").toLocaleLowerCase()&&l(e[n][t],e[n][o])&&l(e[n][t+1],e[n][o+1])&&(a.locations.push(t),a.locations.push(t+1),a.locations.push(o),a.locations.push(o+1),a.partten.push(e[n][t]+" "+e[n][t+1]));for(let t=0;t<u&&l(e[n][e[n].length-t-1],e[n+1][e[n+1].length-t-1]);t++)i.locations.push(t),i.partten.push(e[n][e[n].length-t-1]);let c={color:"#FFFFFF",locations:[]};for(let t=0;t<i.locations.length;t++)c.locations.push({line:n,position:e[n].length-t-1}),c.locations.push({line:n+1,position:e[n+1].length-t-1}),o[n]?o[n][e[n].length-t-1]=!0:o[n]={[e[n].length-t-1]:!0},o[n+1]?o[n+1][e[n+1].length-t-1]=!0:o[n+1]={[e[n+1].length-t-1]:!0};a.locations=[...new Set(a.locations)];for(let e=0;e<a.locations.length;e++)o[n]?o[n][a.locations[e]]=!0:o[n]={[a.locations[e]]:!0};t.push(c)}return function(n,e){let t=[];for(let o=0;o<n.length;o++){let u=[];for(let t=0;t<n[o].length;t++)e[o]&&e[o][t]?u.push(`<span style="color: #699940">${n[o][t]}</span>`):u.push(n[o][t]);t.push(u)}return t}(e,o)}(document.getElementById("lyric").value);document.getElementById("result").innerHTML=e.map(n=>n.join(" ")).join("<br/>")}))}]);